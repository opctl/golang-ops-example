name: init
description: initializes go-svc, getting its dependencies
inputs:
  srcDir:
    dir:
      default: ./ # input defaults for dirs are relative to where the op runs from, not where it's located, therefore this will refer to the project root if that's where we run opctl from
run:
  container:
    image: { ref: 'golang:1.10.3' }
    dirs:
      /go: $(srcDir/go)
    cmd:
    - sh
    - -ce
    - |
      go get -u github.com/cespare/reflex
      go get -u github.com/go-sql-driver/mysql